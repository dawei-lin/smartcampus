<!DOCTYPE>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title></title>
<link type="text/css" rel="stylesheet" href="/smartcampus/css/common.css" />
<link type="text/css" rel="stylesheet" href="/smartcampus/css/yhdcss.css" />
<link type="text/css" rel="stylesheet" href="/smartcampus/script/jquery.yhd.message/jquery.yhd.message.css" />
<link type="text/css" rel="stylesheet" href="/smartcampus/script/jquery.yhd.dialog/jquery.yhd.dialog.css" />
<link type="text/css" rel="stylesheet" href="/smartcampus/script/jquery.yhd.tree/jquery.yhd.tree.css?v=353" />

<style type="text/css">

</style>
<script type="text/javascript" src="/smartcampus/script/jquery.min.js"></script>
<script type="text/javascript" src="/smartcampus/script/jquery.yhd.system.min.js"></script>
<script type="text/javascript" src="/smartcampus/script/jquery.yhd.message/jquery.yhd.message.js"></script>
<script type="text/javascript" src="/smartcampus/script/jquery.yhd.dialog/jquery.yhd.dialog.js"></script>
<script type="text/javascript" src="/smartcampus/script/jquery.yhd.form/jquery.yhd.form.js?v=353"></script>
<script type="text/javascript" src="/smartcampus/script/jquery.yhd.tree/jquery.yhd.tree.js?v=353"></script>

<script type="text/javascript">
var flagType;
var id=Request("id");

$(document).ready(function(){








$("[id=tree1]").tree({url:"/smartcampus/roleInfo/permission/"+id+"",icons:false,textField:'menuname',expand:false,parentField:'pid',lines:false,selectField:'tick',valueField:'id',type:'ajax',checkbox:true});$(document.body).on("click", "[id=c11_0_0_9]", function(){
$("#pidstr").val($('[id=tree1]').tree('getSelected',{type:checkedall}));$("#form1").form("submit",{url:"/smartcampus/roleInfo",success:function(msg){
		if(msg.code=="200"){
			parent.$.alert({msg:"保存成功"});parent.$.dialog.close();parent.$("#grid1").datagrid("reload",{/***other***/});
		}
		else{
			parent.$.alert({msg:msg.msg});
		}
	}
});
});

$(document.body).on("click", "[id=c11_0_0_10]", function(){
parent.$.dialog.close();
});


});

</script>
</head>
<body id="xinzengjiaose" style="">

<div class="ClearAll  RELATIVE ANYROW ABSROW-1" style="padding-left:25px;padding-top:28px;min-height:300px;"  ><div class="ANYFORMVIEW P_ANYFORMVIEW P_ANYFORMVIEW_1 P_FORMVIEW_1 " style="width:400px;min-height:300px;"id="form1" name="form1">

<div class="ClearAll  RELATIVE ANYROW_1 ABSROW-1_1" style="padding-bottom:5px;padding-top:5px;"  ><img src="images/15.png" style="width:10px;height:10px;margin-top:4px;"id="c11_0_0_0" name="c11_0_0_0"/>
<span style="font-weight:700;padding-left:5px;"id="c11_0_0_1" name="c11_0_0_1">新增角色</span>
<div class="ClearAll"></div>
</div>
<div class="ClearAll  RELATIVE ANYROW_1 ABSROW-2_1" style="padding-bottom:5px;padding-top:5px;"  ><span id="c11_0_0_2" name="c11_0_0_2">角色名</span>
<div class="ClearAll"></div>
</div>
<div class="ClearAll  RELATIVE ANYROW_1 ABSROW-3_1" style="padding-bottom:5px;padding-top:5px;"  ><input edit type="text" style="width:245px;height:30px;"id="c11_0_0_3" name="rolename"/>
<div class="ClearAll"></div>
</div>
<div class="ClearAll  RELATIVE ANYROW_1 ABSROW-4_1" style="padding-bottom:5px;padding-top:5px;"  ><span id="c11_0_0_4" name="c11_0_0_4">描述</span>
<div class="ClearAll"></div>
</div>
<div class="ClearAll  RELATIVE ANYROW_1 ABSROW-5_1" style="padding-bottom:5px;padding-top:5px;"  ><textarea style="width:245px;height:80px;vertical-align:top;"id="c11_0_0_5" name="roledes"></textarea>
<div class="ClearAll"></div>
</div>
<div class="ClearAll  RELATIVE ANYROW_1 ABSROW-6_1" style="padding-bottom:5px;padding-top:5px;"  ><span id="c11_0_0_6" name="c11_0_0_6">权限分配</span>
<input edit type="hidden" id="pidstr" name="pidstr"/>
<div class="ClearAll"></div>
</div>
<div class="ClearAll  RELATIVE ANYROW_1 ABSROW-7_1" style="padding-bottom:5px;padding-top:5px;"  ><div class="ANYTREEVIEW P_ANYTREEVIEW P_ANYTREEVIEW_2 P_TREEVIEW_2  tree" style="width:350px;height:250px;overflow-y:scroll;"id="tree1" name="tree1">
</div>
<div class="ClearAll"></div>
</div>
<div class="ClearAll  RELATIVE ANYROW_1 ABSROW-8_1" style="padding-bottom:5px;padding-top:5px;"  ><button type="button" style="color:#FFFFFF;float:left;width:90px;height:30px;background-color:#80B764;"id="c11_0_0_9" name="c11_0_0_9">确定</button>
<button type="button" style="float:left;width:90px;height:30px;margin-left:25px;"id="c11_0_0_10" name="c11_0_0_10">关闭</button>
<div class="ClearAll"></div>
</div></div>
<div class="ClearAll"></div>
</div>
</body>
</html>